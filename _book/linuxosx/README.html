<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    
    <head>
        
        <meta charset="UTF-8">
        <title>Linux/OSX | Snipe-IT Installation Guide &amp; User&#39;s Manual</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 0.5.2">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="../windows/README.html" />
    
    
    <link rel="prev" href="../requirements/README.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book"  data-level="1.1.1" data-basepath=".." data-revision="1404902927064">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="https://github.com/null" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >Snipe-IT Installation Guide &amp; User&#39;s Manual</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        

        

        

        

        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
    
        <li class="chapter " data-level="1" data-path="installation/README.html">
            
            <a href="../installation/README.html">
                <i class="fa fa-check"></i> <b>1.</b> Installation
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="requirements/README.html">
            
            <a href="../requirements/README.html">
                <i class="fa fa-check"></i> <b>1.1.</b> Requirements
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="linuxosx/README.html">
            
            <a href="../linuxosx/README.html">
                <i class="fa fa-check"></i> <b>1.1.1.</b> Linux/OSX
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="windows/README.html">
            
            <a href="../windows/README.html">
                <i class="fa fa-check"></i> <b>1.1.2.</b> Windows
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="upgrading/README.html">
            
            <a href="../upgrading/README.html">
                <i class="fa fa-check"></i> <b>1.2.</b> Upgrading
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="security/README.html">
            
            <a href="../security/README.html">
                <i class="fa fa-check"></i> <b>1.3.</b> Security
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="developers/README.html">
            
            <a href="../developers/README.html">
                <i class="fa fa-check"></i> <b>2.</b> Developers
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="contributing/README.html">
            
            <a href="../contributing/README.html">
                <i class="fa fa-check"></i> <b>2.1.</b> Contributing
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="license/README.html">
            
            <a href="../license/README.html">
                <i class="fa fa-check"></i> <b>3.</b> License
            </a>
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 33.333333333333336%;min-width: 22.22222222222222%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../installation/README.html" title="Installation" class="chapter done new-chapter" data-progress="1" style="left: 11.11111111111111%;"></a>
    
        <a href="../requirements/README.html" title="Requirements" class="chapter done " data-progress="1.1" style="left: 22.22222222222222%;"></a>
    
        <a href="../linuxosx/README.html" title="Linux/OSX" class="chapter done " data-progress="1.1.1" style="left: 33.333333333333336%;"></a>
    
        <a href="../windows/README.html" title="Windows" class="chapter  " data-progress="1.1.2" style="left: 44.44444444444444%;"></a>
    
        <a href="../upgrading/README.html" title="Upgrading" class="chapter  " data-progress="1.2" style="left: 55.55555555555556%;"></a>
    
        <a href="../security/README.html" title="Security" class="chapter  " data-progress="1.3" style="left: 66.66666666666667%;"></a>
    
        <a href="../developers/README.html" title="Developers" class="chapter  new-chapter" data-progress="2" style="left: 77.77777777777777%;"></a>
    
        <a href="../contributing/README.html" title="Contributing" class="chapter  " data-progress="2.1" style="left: 88.88888888888889%;"></a>
    
        <a href="../license/README.html" title="License" class="chapter  new-chapter" data-progress="3" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_142">
                    
                        <h1 id="linux-osx">Linux/OSX</h1>
<p>Note: Installation for Windows IIS <a href="https://gist.github.com/madd15/e48a9c4aaa4b14b6f69a" target="_blank">can be found here</a> (thanks, <a href="https://github.com/madd15" target="_blank">madd15</a>!)</p>
<hr>
<h3 id="2-setup-environment-database-and-mail-settings">2) Setup Environment, Database and Mail Settings</h3>
<h4 id="2-1-adjust-environments">2.1) Adjust Environments</h4>
<p>Update the file <code>bootstrap/start.php</code> under the section <code>Detect The Application Environment</code>.</p>
<p><strong>AS OF LARAVEL 4.1</strong>
Per the <a href="http://laravel.com/docs/upgrade" target="_blank">Laravel 4.1 upgrade docs</a>:</p>
<p><strong><em>&quot;For security reasons, URL domains may no longer be used to detect your application environment. These values are easily spoofable and allow attackers to modify the environment for a request. You should convert your environment detection to use machine host names (hostname command on Mac &amp; Ubuntu).&quot;</em></strong></p>
<p>To find out your local machine&#39;s hostname, type <code>hostname</code> from a terminal prompt on the machine you&#39;re installing it on. The command-line response is that machine&#39;s hostname. Please note that the hostname is NOT always the same as the domain name.</p>
<p>So for example, if you&#39;re installing this on your server named www.yourserver.com, the environmental variable section of <code>bootstrap/start.php</code> might look like this:</p>
<pre><code>$env = $app-&gt;detectEnvironment(array(
    ...
    &#39;production&#39;     =&gt; array(&#39;www.yourserver.com&#39;)
));
</code></pre><p>If your development, staging and production sites all run on the same server (which is generally a terrible idea), <a href="http://words.weareloring.com/development/setting-up-multiple-environments-in-laravel-4-1/" target="_blank">see this example</a> of how to configure the app using environmental variables.</p>
<hr>
<h4 id="2-2-setup-your-database">2.2) Setup Your Database</h4>
<p>Copy the example database config <code>app/config/production/database.example.php</code> to <code>app/config/production/database.php</code>.
Update the file <code>app/config/production/database.php</code> with your database name and credentials:</p>
<pre><code>    &#39;mysql&#39; =&gt; array(
        &#39;driver&#39;    =&gt; &#39;mysql&#39;,
        &#39;host&#39;      =&gt; &#39;localhost&#39;,
        &#39;database&#39;  =&gt; &#39;snipeit_laravel&#39;,
        &#39;username&#39;  =&gt; &#39;travis&#39;,
        &#39;password&#39;  =&gt; &#39;&#39;,
        &#39;charset&#39;   =&gt; &#39;utf8&#39;,
        &#39;collation&#39; =&gt; &#39;utf8_unicode_ci&#39;,
        &#39;prefix&#39;    =&gt; &#39;&#39;,
    ),
</code></pre><h4 id="2-3-setup-mail-settings">2.3) Setup Mail Settings</h4>
<p>Copy the example mail config <code>app/config/production/mail.example.php</code> to <code>app/config/production/mail.php</code>.
Update the file <code>app/config/production/mail.php</code> with your mail settings.</p>
<p>This will be used to send emails to your users, when they register and when they request a password reset.</p>
<h4 id="2-4-adjust-the-application-settings-">2.4) Adjust the application settings.</h4>
<p>Copy the example app config <code>app/config/production/app.example.php</code> to <code>app/config/production/app.php</code>.</p>
<p>Update the file <code>app/config/production/app.php</code> with your URL settings.</p>
<pre><code>&#39;url&#39; =&gt; &#39;http://www.yourserver.com&#39;,
</code></pre><p>You should also change your secret key here -- if you prefer to have your key randomly generated, run the artisan key:generate command from the application root.</p>
<pre><code>php artisan key:generate --env=production
</code></pre><hr>
<h3 id="3-install-the-dependencies-via-composer">3) Install the Dependencies via Composer</h3>
<h5 id="3-1-if-you-don-t-have-composer-installed-globally">3.1) If you don&#39;t have composer installed globally</h5>
<pre><code>cd your-folder
curl -sS https://getcomposer.org/installer | php
php composer.phar install
</code></pre><h5 id="3-2-for-global-composer-installations">3.2) For global composer installations</h5>
<pre><code>cd your-folder
composer install
</code></pre><hr>
<h3 id="4-use-custom-cli-installer-command">4) Use custom CLI Installer Command</h3>
<p>Now, you need to create yourself a user and finish the installation.</p>
<p>Use the following command to create your default user, user groups and run all the necessary migrations automatically.</p>
<pre><code>php artisan app:install
</code></pre><hr>
<h3 id="6-fix-permissions">6) Fix permissions</h3>
<p>You&#39;ll need to make sure that the <code>app/storage</code> directory is writable by your webserver, since caches and log files get written there. You should use the minimum permissions available for writing, based on how you&#39;ve got your webserver configured.</p>
<pre><code>chmod -R 755 app/storage
</code></pre><p>If you still run into a permissions error, you may need to increase the permissions to 775, or twiddle your user/group permissions on your server.</p>
<pre><code>chmod -R 775 app/storage
</code></pre><hr>
<h3 id="7-set-the-correct-document-root-for-your-server">7) Set the correct document root for your server</h3>
<p>The document root for the app should be set to the <code>public</code> directory. In a standard Apache virtualhost setup, that might look something like this on a standard linux LAMP stack:</p>
<pre><code>&lt;VirtualHost *:80&gt;
    &lt;Directory /var/www/html/public&gt;
        AllowOverride All
    &lt;/Directory&gt;
    DocumentRoot /var/www/html/public
        ServerName www.yourserver.com
        # Other directives here
&lt;/VirtualHost&gt;
</code></pre><p>An OS X virtualhost setup could look more like:</p>
<pre><code>&lt;Directory &quot;/Users/youruser/Sites/snipe-it/public/&quot;&gt;
    Allow From All
    AllowOverride All
    Options +Indexes
&lt;/Directory&gt;
&lt;VirtualHost *:80&gt;
    ServerName &quot;www.yourserver.com&quot;
    DocumentRoot &quot;/Users/youruser/Sites/snipe-it/public&quot;
SetEnv LARAVEL_ENV development
&lt;/VirtualHost&gt;
</code></pre><hr>
<h3 id="8-seed-the-database">8) Seed the Database</h3>
<p>Loading up the sample data will give you an idea of how this should look, how your info should be structured, etc. It only pre-loads a handful of items, so you won&#39;t have to spend an hour deleting sample data.</p>
<pre><code>php artisan db:seed
</code></pre><p><strong>If you run this command on a database that already has your own asset data in it, it will over-write your database. ALL of your data will be gone. NEVER run the db seeder on production after on your initial install.</strong></p>
<hr>
<h3 id="application-logs">Application logs</h3>
<p>Application logs for this app are found in <code>app/storage/logs</code>, as is customary of Laravel.</p>
<hr>
<h3 id="running-this-on-an-ec2-micro-instance">Running this on an EC2 Micro Instance</h3>
<p>Depending on your needs, you could probably run this system in an EC2 micro instance. It doesn&#39;t take up very much memory and typically won&#39;t be a super-high-traffic application. EC2 micros fall into the free/dirt-cheap tier, which might make this a nice option. One thing to note though - composer can be a little memory-intensive while you&#39;re running updates, and you may have trouble with it failing on a micro. You can crank the memory_limit up in php.ini, but EC2 micros have swap disabled by default, so even that may not cut it. If you run into totally unhelpful error messages while running composer updates (like simply &#39;Killed&#39;) or fatal memory issues mentioning phar, your best bet will be to enable swap:</p>
<pre><code>sudo /bin/dd if=/dev/zero of=/var/swap.1 bs=1M count=1024
sudo /sbin/mkswap /var/swap.1
sudo /sbin/swapon /var/swap.1
</code></pre><p>If you need more than 1024MB then change that to something higher.</p>
<p>To enable it by default after reboot, add this line to /etc/fstab:</p>
<pre><code>/var/swap.1 swap swap defaults 0 0
</code></pre><hr>
<h2 id="developing-contributing">Developing &amp; Contributing</h2>
<p>Please be sure to see the <a href="https://github.com/snipe/snipe-it/blob/develop/CONTRIBUTING.md" target="_blank">contributing guidelines</a> before submitting pull requests.</p>
<p>The only real difference in setting Snipe-IT up for local development versus setting it up for production usage is the configuration files, and remembering to add the local environment flag on the artisan commands.</p>
<p>You&#39;ll notice in your <code>app/config</code> directory, you have directories such as <code>local</code>, <code>staging</code>, and <code>production</code>. (The <code>testing</code> directory is reserved for unit tests, so don&#39;t mess with that one.)</p>
<p>You&#39;ll want to make sure you have the configuration files updated for whichever environment you&#39;re in, which will most likely be <code>local</code>.</p>
<p>If you run the command line tools without the local flag, it will default to the production environment, so you&#39;ll want to make sure you run the commands as:</p>
<pre><code>php artisan key:generate --env=local
php artisan app:install --env=local
</code></pre><h3 id="set-up-the-debugbar">Set up the debugbar</h3>
<p>In dev mode, I use the fabulous <a href="https://github.com/barryvdh/laravel-debugbar" target="_blank">Laravel Debugbar</a> by <a href="https://github.com/barryvdh" target="_blank">barryvdh</a>. After you&#39;ve installed/updated composer, you&#39;ll need to publish the assets for the debugbar:</p>
<pre><code>php artisan debugbar:publish
</code></pre><p>The profiler is enabled by default if you have debug set to true in your app.php. You certainly don&#39;t have to use it, but it&#39;s pretty handy for troubleshooting queries, seeing how much memory your pages are using, etc.</p>
<hr>
<h3 id="purging-the-autoloader">Purging the autoloader</h3>
<p>If you&#39;re doing any development on this, make sure you purge the auto-loader if you see any errors stating the new model you created can&#39;t be found, etc, otherwise your new models won&#39;t be grokked.</p>
<pre><code>php composer.phar dump-autoload
</code></pre>
                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../requirements/README.html" class="navigation navigation-prev " aria-label="Previous page: Requirements"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../windows/README.html" class="navigation navigation-next " aria-label="Next page: Windows"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
<script src="../gitbook/app.js"></script>

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
